import{S,i as q,s as C,F as E,H as O,G as N,B as F,O as V,f as U,D as z,I as fe,J as X,p as j,E as P,N as oe,q as L,c as v,e as R,m as A,k as W,t as g,n as H,o as h,l as y,x as M,V as ue,b as _e,a as ce,j as me,W as be,X as de,Y as ge,Z as he,aj as ke,v as we,a7 as pe,g as ve,h as Ae}from"./index.7a68216a.js";import{a as ye}from"./Empty.svelte_svelte_type_style_lang.d7a3af78.js";import{B as ee}from"./BlockLabel.fd555cfa.js";import{E as Fe}from"./Empty.092ff864.js";/* empty css                                                    */import{F as J}from"./File.7698c472.js";import{U as Be}from"./Upload.c051b7dd.js";import{M as ze}from"./ModifyUpload.06b7f9d9.js";import{n as Y,b as Ue}from"./ModifyUpload.svelte_svelte_type_style_lang.e946db2d.js";import{U as je}from"./UploadText.e78ad6f6.js";import"./Blocks.1c8a32b7.js";const Ee=t=>{let l=["B","KB","MB","GB","PB"],a=0;for(;t>1024;)t/=1024,a++;let e=l[a];return t.toFixed(1)+" "+e},Z=t=>{var l;return l=t.orig_name||t.name,l.length>30?`${l.substr(0,30)}...`:l},Q=t=>{var l=0;if(Array.isArray(t))for(var a of t)a.size!==void 0&&(l+=a.size);else l=t.size||0;return Ee(l)};function $(t,l,a){const e=t.slice();return e[4]=l[a],e[6]=a,e}function Te(t){let l;return{c(){l=O("Uploading...")},m(a,e){U(a,l,e)},p:P,d(a){a&&j(l)}}}function Ne(t){let l,a,e,n;return{c(){l=E("a"),a=O("Download"),F(l,"href",e=t[4].data),F(l,"target","_blank"),F(l,"download",n=window.__is_colab__?null:t[4].orig_name||t[4].name),F(l,"class","svelte-xrr240")},m(s,i){U(s,l,i),z(l,a)},p(s,i){i&1&&e!==(e=s[4].data)&&F(l,"href",e),i&1&&n!==(n=window.__is_colab__?null:s[4].orig_name||s[4].name)&&F(l,"download",n)},d(s){s&&j(l)}}}function x(t){let l,a,e=Z(t[4])+"",n,s,i,o=Q(t[4])+"",f,d,r,m,u,b;function B(c,p){return c[4].data?Ne:Te}let k=B(t),w=k(t);function D(){return t[3](t[4],t[6])}return{c(){l=E("tr"),a=E("td"),n=O(e),s=N(),i=E("td"),f=O(o),d=N(),r=E("td"),w.c(),m=N(),F(a,"class","svelte-xrr240"),F(i,"class","svelte-xrr240"),F(r,"class","download svelte-xrr240"),F(l,"class","file svelte-xrr240"),V(l,"selectable",t[1])},m(c,p){U(c,l,p),z(l,a),z(a,n),z(l,s),z(l,i),z(i,f),z(l,d),z(l,r),w.m(r,null),z(l,m),u||(b=fe(l,"click",D),u=!0)},p(c,p){t=c,p&1&&e!==(e=Z(t[4])+"")&&X(n,e),p&1&&o!==(o=Q(t[4])+"")&&X(f,o),k===(k=B(t))&&w?w.p(t,p):(w.d(1),w=k(t),w&&(w.c(),w.m(r,null))),p&2&&V(l,"selectable",t[1])},d(c){c&&j(l),w.d(),u=!1,b()}}}function De(t){let l,a,e,n=Array.isArray(t[0])?t[0]:[t[0]],s=[];for(let i=0;i<n.length;i+=1)s[i]=x($(t,n,i));return{c(){l=E("div"),a=E("table"),e=E("tbody");for(let i=0;i<s.length;i+=1)s[i].c();F(a,"class","file-preview svelte-xrr240"),F(l,"class","file-preview-holder svelte-xrr240")},m(i,o){U(i,l,o),z(l,a),z(a,e);for(let f=0;f<s.length;f+=1)s[f].m(e,null)},p(i,[o]){if(o&7){n=Array.isArray(i[0])?i[0]:[i[0]];let f;for(f=0;f<n.length;f+=1){const d=$(i,n,f);s[f]?s[f].p(d,o):(s[f]=x(d),s[f].c(),s[f].m(e,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},i:P,o:P,d(i){i&&j(l),oe(s,i)}}}function Ie(t,l,a){const e=L();let{value:n}=l,{selectable:s=!1}=l;const i=(o,f)=>e("select",{value:o.orig_name||o.name,index:f});return t.$$set=o=>{"value"in o&&a(0,n=o.value),"selectable"in o&&a(1,s=o.selectable)},[n,s,e,i]}class le extends S{constructor(l){super(),q(this,l,Ie,De,C,{value:0,selectable:1})}}function Me(t){let l,a;return l=new Fe({props:{size:"large",unpadded_box:!0,$$slots:{default:[Pe]},$$scope:{ctx:t}}}),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},p(e,n){const s={};n&32&&(s.$$scope={dirty:n,ctx:e}),l.$set(s)},i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Oe(t){let l,a;return l=new le({props:{selectable:t[3],value:t[0]}}),l.$on("select",t[4]),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},p(e,n){const s={};n&8&&(s.selectable=e[3]),n&1&&(s.value=e[0]),l.$set(s)},i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Pe(t){let l,a;return l=new J({}),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Se(t){let l,a,e,n,s,i;l=new ee({props:{show_label:t[2],float:t[0]===null,Icon:J,label:t[1]||"File"}});const o=[Oe,Me],f=[];function d(r,m){return r[0]?0:1}return e=d(t),n=f[e]=o[e](t),{c(){v(l.$$.fragment),a=N(),n.c(),s=R()},m(r,m){A(l,r,m),U(r,a,m),f[e].m(r,m),U(r,s,m),i=!0},p(r,[m]){const u={};m&4&&(u.show_label=r[2]),m&1&&(u.float=r[0]===null),m&2&&(u.label=r[1]||"File"),l.$set(u);let b=e;e=d(r),e===b?f[e].p(r,m):(W(),g(f[b],1,1,()=>{f[b]=null}),H(),n=f[e],n?n.p(r,m):(n=f[e]=o[e](r),n.c()),h(n,1),n.m(s.parentNode,s))},i(r){i||(h(l.$$.fragment,r),h(n),i=!0)},o(r){g(l.$$.fragment,r),g(n),i=!1},d(r){y(l,r),r&&j(a),f[e].d(r),r&&j(s)}}}function qe(t,l,a){let{value:e=null}=l,{label:n}=l,{show_label:s=!0}=l,{selectable:i=!1}=l;function o(f){M.call(this,t,f)}return t.$$set=f=>{"value"in f&&a(0,e=f.value),"label"in f&&a(1,n=f.label),"show_label"in f&&a(2,s=f.show_label),"selectable"in f&&a(3,i=f.selectable)},[e,n,s,i,o]}class Ce extends S{constructor(l){super(),q(this,l,qe,Se,C,{value:0,label:1,show_label:2,selectable:3})}}function Ge(t){let l,a,e;function n(i){t[12](i)}let s={filetype:t[6],parse_to_data_url:!1,file_count:t[3],$$slots:{default:[Re]},$$scope:{ctx:t}};return t[5]!==void 0&&(s.dragging=t[5]),l=new Be({props:s}),_e.push(()=>ce(l,"dragging",n)),l.$on("load",t[7]),{c(){v(l.$$.fragment)},m(i,o){A(l,i,o),e=!0},p(i,o){const f={};o&64&&(f.filetype=i[6]),o&8&&(f.file_count=i[3]),o&8192&&(f.$$scope={dirty:o,ctx:i}),!a&&o&32&&(a=!0,f.dragging=i[5],me(()=>a=!1)),l.$set(f)},i(i){e||(h(l.$$.fragment,i),e=!0)},o(i){g(l.$$.fragment,i),e=!1},d(i){y(l,i)}}}function Le(t){let l,a,e,n;return l=new ze({props:{absolute:!0}}),l.$on("clear",t[8]),e=new le({props:{selectable:t[4],value:t[0]}}),e.$on("select",t[11]),{c(){v(l.$$.fragment),a=N(),v(e.$$.fragment)},m(s,i){A(l,s,i),U(s,a,i),A(e,s,i),n=!0},p(s,i){const o={};i&16&&(o.selectable=s[4]),i&1&&(o.value=s[0]),e.$set(o)},i(s){n||(h(l.$$.fragment,s),h(e.$$.fragment,s),n=!0)},o(s){g(l.$$.fragment,s),g(e.$$.fragment,s),n=!1},d(s){y(l,s),s&&j(a),y(e,s)}}}function Re(t){let l;const a=t[10].default,e=be(a,t,t[13],null);return{c(){e&&e.c()},m(n,s){e&&e.m(n,s),l=!0},p(n,s){e&&e.p&&(!l||s&8192)&&de(e,a,n,n[13],l?he(a,n[13],s,null):ge(n[13]),null)},i(n){l||(h(e,n),l=!0)},o(n){g(e,n),l=!1},d(n){e&&e.d(n)}}}function We(t){let l,a,e,n,s,i;l=new ee({props:{show_label:t[2],Icon:J,float:t[0]===null,label:t[1]||"File"}});const o=[Le,Ge],f=[];function d(r,m){return r[0]?0:1}return e=d(t),n=f[e]=o[e](t),{c(){v(l.$$.fragment),a=N(),n.c(),s=R()},m(r,m){A(l,r,m),U(r,a,m),f[e].m(r,m),U(r,s,m),i=!0},p(r,[m]){const u={};m&4&&(u.show_label=r[2]),m&1&&(u.float=r[0]===null),m&2&&(u.label=r[1]||"File"),l.$set(u);let b=e;e=d(r),e===b?f[e].p(r,m):(W(),g(f[b],1,1,()=>{f[b]=null}),H(),n=f[e],n?n.p(r,m):(n=f[e]=o[e](r),n.c()),h(n,1),n.m(s.parentNode,s))},i(r){i||(h(l.$$.fragment,r),h(n),i=!0)},o(r){g(l.$$.fragment,r),g(n),i=!1},d(r){y(l,r),r&&j(a),f[e].d(r),r&&j(s)}}}function He(t,l,a){let{$$slots:e={},$$scope:n}=l,{value:s}=l,{label:i}=l,{show_label:o=!0}=l,{file_count:f="single"}=l,{file_types:d=null}=l,{selectable:r=!1}=l;async function m({detail:c}){a(0,s=c),await ue(),b("change",s),b("upload",c)}function u({detail:c}){a(0,s=null),b("change",s),b("clear")}const b=L();let B;d==null?B=null:(d=d.map(c=>c.startsWith(".")?c:c+"/*"),B=d.join(", "));let k=!1;function w(c){M.call(this,t,c)}function D(c){k=c,a(5,k)}return t.$$set=c=>{"value"in c&&a(0,s=c.value),"label"in c&&a(1,i=c.label),"show_label"in c&&a(2,o=c.show_label),"file_count"in c&&a(3,f=c.file_count),"file_types"in c&&a(9,d=c.file_types),"selectable"in c&&a(4,r=c.selectable),"$$scope"in c&&a(13,n=c.$$scope)},t.$$.update=()=>{t.$$.dirty&32&&b("drag",k)},[s,i,o,f,r,k,B,m,u,d,e,w,D,n]}class Je extends S{constructor(l){super(),q(this,l,He,We,C,{value:0,label:1,show_label:2,file_count:3,file_types:9,selectable:4})}}function Ke(t){let l,a;return l=new Ce({props:{selectable:t[9],value:t[11],label:t[5],show_label:t[6]}}),l.$on("select",t[21]),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},p(e,n){const s={};n&512&&(s.selectable=e[9]),n&2048&&(s.value=e[11]),n&32&&(s.label=e[5]),n&64&&(s.show_label=e[6]),l.$set(s)},i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Ve(t){let l,a;return l=new Je({props:{label:t[5],show_label:t[6],value:t[11],file_count:t[7],file_types:t[8],selectable:t[9],$$slots:{default:[Xe]},$$scope:{ctx:t}}}),l.$on("change",t[17]),l.$on("drag",t[18]),l.$on("clear",t[19]),l.$on("select",t[20]),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},p(e,n){const s={};n&32&&(s.label=e[5]),n&64&&(s.show_label=e[6]),n&2048&&(s.value=e[11]),n&128&&(s.file_count=e[7]),n&256&&(s.file_types=e[8]),n&512&&(s.selectable=e[9]),n&8388608&&(s.$$scope={dirty:n,ctx:e}),l.$set(s)},i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Xe(t){let l,a;return l=new je({props:{type:"file"}}),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},p:P,i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Ye(t){let l,a,e,n,s,i;const o=[t[10],{status:t[13]?"generating":t[10]?.status||"complete"}];let f={};for(let u=0;u<o.length;u+=1)f=we(f,o[u]);l=new pe({props:f});const d=[Ve,Ke],r=[];function m(u,b){return u[4]==="dynamic"?0:1}return e=m(t),n=r[e]=d[e](t),{c(){v(l.$$.fragment),a=N(),n.c(),s=R()},m(u,b){A(l,u,b),U(u,a,b),r[e].m(u,b),U(u,s,b),i=!0},p(u,b){const B=b&9216?ve(o,[b&1024&&Ae(u[10]),{status:u[13]?"generating":u[10]?.status||"complete"}]):{};l.$set(B);let k=e;e=m(u),e===k?r[e].p(u,b):(W(),g(r[k],1,1,()=>{r[k]=null}),H(),n=r[e],n?n.p(u,b):(n=r[e]=d[e](u),n.c()),h(n,1),n.m(s.parentNode,s))},i(u){i||(h(l.$$.fragment,u),h(n),i=!0)},o(u){g(l.$$.fragment,u),g(n),i=!1},d(u){y(l,u),u&&j(a),r[e].d(u),u&&j(s)}}}function Ze(t){let l,a;return l=new ye({props:{visible:t[3],variant:t[4]==="dynamic"&&t[0]===null?"dashed":"solid",border_mode:t[12]?"focus":"base",padding:!1,elem_id:t[1],elem_classes:t[2],$$slots:{default:[Ye]},$$scope:{ctx:t}}}),{c(){v(l.$$.fragment)},m(e,n){A(l,e,n),a=!0},p(e,[n]){const s={};n&8&&(s.visible=e[3]),n&17&&(s.variant=e[4]==="dynamic"&&e[0]===null?"dashed":"solid"),n&4096&&(s.border_mode=e[12]?"focus":"base"),n&2&&(s.elem_id=e[1]),n&4&&(s.elem_classes=e[2]),n&8404977&&(s.$$scope={dirty:n,ctx:e}),l.$set(s)},i(e){a||(h(l.$$.fragment,e),a=!0)},o(e){g(l.$$.fragment,e),a=!1},d(e){y(l,e)}}}function Qe(t,l,a){let e,{elem_id:n=""}=l,{elem_classes:s=[]}=l,{visible:i=!0}=l,{value:o}=l,f,{mode:d}=l,{root:r}=l,{label:m}=l,{show_label:u}=l,{file_count:b}=l,{file_types:B=["file"]}=l,{root_url:k}=l,{selectable:w=!1}=l,{loading_status:D}=l,c=!1,p=!1;const G=L(),te=({detail:_})=>a(0,o=_),ae=({detail:_})=>a(12,c=_);function ne(_){M.call(this,t,_)}function se(_){M.call(this,t,_)}function ie(_){M.call(this,t,_)}return t.$$set=_=>{"elem_id"in _&&a(1,n=_.elem_id),"elem_classes"in _&&a(2,s=_.elem_classes),"visible"in _&&a(3,i=_.visible),"value"in _&&a(0,o=_.value),"mode"in _&&a(4,d=_.mode),"root"in _&&a(14,r=_.root),"label"in _&&a(5,m=_.label),"show_label"in _&&a(6,u=_.show_label),"file_count"in _&&a(7,b=_.file_count),"file_types"in _&&a(8,B=_.file_types),"root_url"in _&&a(15,k=_.root_url),"selectable"in _&&a(9,w=_.selectable),"loading_status"in _&&a(10,D=_.loading_status)},t.$$.update=()=>{if(t.$$.dirty&49153&&a(11,e=Y(o,r,k)),t.$$.dirty&116753&&e!==f){if(a(16,f=e),e===null)G("change"),a(13,p=!1);else if(!(Array.isArray(e)?e:[e]).every(_=>_.blob))a(13,p=!1);else if(d==="dynamic"){let _=(Array.isArray(e)?e:[e]).map(I=>I.blob),re=e;a(13,p=!0),ke(r,_).then(I=>{re===e&&(a(13,p=!1),I.error?(Array.isArray(e)?e:[e]).forEach(async(T,K)=>{T.data=await Ue(T.blob)}):((Array.isArray(e)?e:[e]).forEach((T,K)=>{I.files&&(T.orig_name=T.name,T.name=I.files[K],T.is_file=!0)}),a(11,e=Y(o,r,k))),G("change"),G("upload"))})}}},[o,n,s,i,d,m,u,b,B,w,D,e,c,p,r,k,f,te,ae,ne,se,ie]}class $e extends S{constructor(l){super(),q(this,l,Qe,Ze,C,{elem_id:1,elem_classes:2,visible:3,value:0,mode:4,root:14,label:5,show_label:6,file_count:7,file_types:8,root_url:15,selectable:9,loading_status:10})}}var ul=$e;const _l=["static","dynamic"],cl=t=>({type:{input_payload:"{ name: string; data: string }",response_object:"{ orig_name: string; name: string, size: number, data: string, is_file: boolean}"},description:{input_payload:"object with file name and base64 data",response_object:"object that includes path to file. The URL: {ROOT}file={name} contains the data"},example_data:{name:"zip.zip",data:"data:@file/octet-stream;base64,UEsFBgAAAAAAAAAAAAAAAAAAAAAAAA=="}});export{ul as Component,cl as document,_l as modes};
//# sourceMappingURL=index.39c24762.js.map
