{"version":3,"file":"Tabs.4607aa1c.js","sources":["../../../../ui/packages/tabs/src/Tabs.svelte"],"sourcesContent":["<script context=\"module\">\n\texport const TABS = {};\n</script>\n\n<script lang=\"ts\">\n\timport { setContext, createEventDispatcher } from \"svelte\";\n\timport { writable } from \"svelte/store\";\n\n\tinterface Tab {\n\t\tname: string;\n\t\tid: object;\n\t}\n\n\texport let visible: boolean = true;\n\texport let elem_id: string;\n\texport let selected: number | string | object;\n\n\tlet tabs: Array<Tab> = [];\n\n\tconst selected_tab = writable<false | object | number | string>(false);\n\tconst dispatch = createEventDispatcher<{ change: undefined }>();\n\n\tsetContext(TABS, {\n\t\tregister_tab: (tab: Tab) => {\n\t\t\ttabs.push({ name: tab.name, id: tab.id });\n\t\t\tselected_tab.update((current) => current ?? tab.id);\n\t\t\ttabs = tabs;\n\t\t},\n\t\tunregister_tab: (tab: Tab) => {\n\t\t\tconst i = tabs.findIndex((t) => t.id === tab.id);\n\t\t\ttabs.splice(i, 1);\n\t\t\tselected_tab.update((current) =>\n\t\t\t\tcurrent === tab.id ? tabs[i]?.id || tabs[tabs.length - 1]?.id : current\n\t\t\t);\n\t\t},\n\n\t\tselected_tab\n\t});\n\n\tfunction change_tab(id: object | string | number) {\n\t\t$selected_tab = id;\n\t\tdispatch(\"change\");\n\t}\n\n\t$: selected !== null && change_tab(selected);\n</script>\n\n<div class=\"tabs flex flex-col my-4\" class:hidden={!visible} id={elem_id}>\n\t<div class=\"flex border-b-2 flex-wrap dark:border-gray-700\">\n\t\t{#each tabs as t (t.id)}\n\t\t\t{#if t.id === $selected_tab}\n\t\t\t\t<button\n\t\t\t\t\tclass=\"bg-white px-4 pb-2 pt-1.5 rounded-t-lg border-gray-200 -mb-[2px] border-2 border-b-0\"\n\t\t\t\t>\n\t\t\t\t\t{t.name}\n\t\t\t\t</button>\n\t\t\t{:else}\n\t\t\t\t<button\n\t\t\t\t\tclass=\"px-4 pb-2 pt-1.5 border-transparent text-gray-400 hover:text-gray-700 -mb-[2px] border-2 border-b-0\"\n\t\t\t\t\ton:click={() => change_tab(t.id)}\n\t\t\t\t>\n\t\t\t\t\t{t.name}\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t{/each}\n\t</div>\n\t<slot />\n</div>\n"],"names":[],"mappings":"gTA6DM,MAAE,iNAJJ,0EAIE,MAAE,gEAPF,MAAE,8JAHJ,2CAGE,MAAE,+EAJA,OAAE,KAAO,uRADR,gBAAW,MAAE,mBAAlB,mSAF6D,oBAAb,cAApD,SACC,gGACQ,6HAFwD,yBAAb,mHA9CtC,0DAYF,UAAmB,OACnB,cACA,cAEP,UAEE,GAAe,EAA2C,EAAK,0BAC/D,GAAW,IAEjB,EAAW,GACV,aAAe,IACd,EAAK,MAAO,KAAM,EAAI,KAAM,GAAI,EAAI,KACpC,EAAa,OAAQ,GAAY,GAAW,EAAI,EAAE,UAGnD,eAAiB,SACV,GAAI,EAAK,UAAW,GAAM,EAAE,KAAO,EAAI,EAAE,EAC/C,EAAK,OAAO,EAAG,CAAC,EAChB,EAAa,OAAQ,GACpB,IAAY,EAAI,GAAK,EAAK,IAAI,IAAM,EAAK,EAAK,OAAS,IAAI,GAAK,CAAO,GAIzE,4BAGmB,OACnB,EAAgB,KAChB,EAAS,QAAQ,aAkBE,EAAW,EAAE,EAAE,wLAfhC,IAAa,MAAQ,EAAW,CAAQ"}