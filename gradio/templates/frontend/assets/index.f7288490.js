import{S as I,i as U,s as V,A as D,B as o,f as m,D as y,E as N,p as g,e as F,F as k,G as L,O as H,I as w,N as G,C as E,q as ae,ae as ne,af as se,x as p,b as fe,K as B,a2 as le,H as oe,J as ce,ag as re,c as J,m as K,o as C,t as T,l as O,k as ue,n as _e}from"./index.37b24c07.js";import{a as he}from"./Empty.svelte_svelte_type_style_lang.94e7c7a3.js";import{B as de}from"./BlockLabel.7ce695d8.js";/* empty css                                                    */import{n as R}from"./ModifyUpload.svelte_svelte_type_style_lang.e946db2d.js";function me(n){let e,i,t;return{c(){e=D("svg"),i=D("path"),t=D("path"),o(i,"fill","currentColor"),o(i,"d","M17.74 30L16 29l4-7h6a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h9v2H6a4 4 0 0 1-4-4V8a4 4 0 0 1 4-4h20a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-4.84Z"),o(t,"fill","currentColor"),o(t,"d","M8 10h16v2H8zm0 6h10v2H8z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),o(e,"aria-hidden","true"),o(e,"role","img"),o(e,"class","iconify iconify--carbon"),o(e,"width","100%"),o(e,"height","100%"),o(e,"preserveAspectRatio","xMidYMid meet"),o(e,"viewBox","0 0 32 32")},m(l,s){m(l,e,s),y(e,i),y(e,t)},p:N,i:N,o:N,d(l){l&&g(e)}}}class ge extends I{constructor(e){super(),U(this,e,null,me,V,{})}}function Y(n,e,i){const t=n.slice();return t[17]=e[i],t[19]=i,t}function Z(n,e,i){const t=n.slice();return t[20]=e[i],t[22]=i,t}function j(n,e,i){const t=n.slice();return t[23]=e[i],t}function P(n){let e,i=n[0],t=[];for(let l=0;l<i.length;l+=1)t[l]=x(Y(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},m(l,s){for(let a=0;a<t.length;a+=1)t[a].m(l,s);m(l,e,s)},p(l,s){if(s&85){i=l[0];let a;for(a=0;a<i.length;a+=1){const f=Y(l,i,a);t[a]?t[a].p(f,s):(t[a]=x(f),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(l){G(t,l),l&&g(e)}}}function be(n){let e,i,t;return{c(){e=k("img"),B(e.src,i=n[20].data)||o(e,"src",i),o(e,"alt",t=n[20].alt_text)},m(l,s){m(l,e,s)},p(l,s){s&1&&!B(e.src,i=l[20].data)&&o(e,"src",i),s&1&&t!==(t=l[20].alt_text)&&o(e,"alt",t)},d(l){l&&g(e)}}}function ve(n){let e,i,t,l,s,a;return{c(){e=k("video"),i=k("track"),o(i,"kind","captions"),e.controls=!0,B(e.src,t=n[20].data)||o(e,"src",t),o(e,"title",l=n[20].alt_text),o(e,"preload","auto")},m(f,b){m(f,e,b),y(e,i),s||(a=[w(e,"play",n[11]),w(e,"pause",n[12]),w(e,"ended",n[13])],s=!0)},p(f,b){b&1&&!B(e.src,t=f[20].data)&&o(e,"src",t),b&1&&l!==(l=f[20].alt_text)&&o(e,"title",l)},d(f){f&&g(e),s=!1,le(a)}}}function ke(n){let e,i,t,l,s;return{c(){e=k("audio"),e.controls=!0,o(e,"preload","metadata"),B(e.src,i=n[20].data)||o(e,"src",i),o(e,"title",t=n[20].alt_text)},m(a,f){m(a,e,f),l||(s=[w(e,"play",n[8]),w(e,"pause",n[9]),w(e,"ended",n[10])],l=!0)},p(a,f){f&1&&!B(e.src,i=a[20].data)&&o(e,"src",i),f&1&&t!==(t=a[20].alt_text)&&o(e,"title",t)},d(a){a&&g(e),l=!1,le(s)}}}function pe(n){let e,i=n[20]+"",t,l,s=n[2]&&n[22]==1&&Q(n);return{c(){e=new re(!1),t=L(),s&&s.c(),l=F(),e.a=t},m(a,f){e.m(i,a,f),m(a,t,f),s&&s.m(a,f),m(a,l,f)},p(a,f){f&1&&i!==(i=a[20]+"")&&e.p(i),a[2]&&a[22]==1?s?s.p(a,f):(s=Q(a),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(a){a&&e.d(),a&&g(t),s&&s.d(a),a&&g(l)}}}function Q(n){let e,i=n[2],t=[];for(let l=0;l<i.length;l+=1)t[l]=W(j(n,i,l));return{c(){e=k("div");for(let l=0;l<t.length;l+=1)t[l].c();o(e,"class","feedback svelte-6roggh")},m(l,s){m(l,e,s);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(l,s){if(s&4){i=l[2];let a;for(a=0;a<i.length;a+=1){const f=j(l,i,a);t[a]?t[a].p(f,s):(t[a]=W(f),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(l){l&&g(e),G(t,l)}}}function W(n){let e,i=n[23]+"",t;return{c(){e=k("button"),t=oe(i),o(e,"class","svelte-6roggh")},m(l,s){m(l,e,s),y(e,t)},p(l,s){s&4&&i!==(i=l[23]+"")&&ce(t,i)},d(l){l&&g(e)}}}function X(n){let e,i,t,l,s,a,f;function b(h,d){if(d&1&&(i=null),d&1&&(t=null),d&1&&(l=null),typeof h[20]=="string")return pe;if(i==null&&(i=!!(h[20]!==null&&h[20].mime_type?.includes("audio"))),i)return ke;if(t==null&&(t=!!(h[20]!==null&&h[20].mime_type?.includes("video"))),t)return ve;if(l==null&&(l=!!(h[20]!==null&&h[20].mime_type?.includes("image"))),l)return be}let u=b(n,-1),_=u&&u(n);function v(){return n[14](n[19],n[22],n[20])}return{c(){e=k("div"),_&&_.c(),s=L(),o(e,"data-testid",n[22]==0?"user":"bot"),o(e,"class","message "+(n[22]==0?"user":"bot")+" svelte-6roggh"),H(e,"latest",n[19]===n[0].length-1),H(e,"hide",n[20]===null),H(e,"selectable",n[4])},m(h,d){m(h,e,d),_&&_.m(e,null),y(e,s),a||(f=w(e,"click",v),a=!0)},p(h,d){n=h,u===(u=b(n,d))&&_?_.p(n,d):(_&&_.d(1),_=u&&u(n),_&&(_.c(),_.m(e,s))),d&1&&H(e,"latest",n[19]===n[0].length-1),d&1&&H(e,"hide",n[20]===null),d&16&&H(e,"selectable",n[4])},d(h){h&&g(e),_&&_.d(),a=!1,f()}}}function x(n){let e,i=n[17],t=[];for(let l=0;l<i.length;l+=1)t[l]=X(Z(n,i,l));return{c(){for(let l=0;l<t.length;l+=1)t[l].c();e=F()},m(l,s){for(let a=0;a<t.length;a+=1)t[a].m(l,s);m(l,e,s)},p(l,s){if(s&85){i=l[17];let a;for(a=0;a<i.length;a+=1){const f=Z(l,i,a);t[a]?t[a].p(f,s):(t[a]=X(f),t[a].c(),t[a].m(e.parentNode,e))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(l){G(t,l),l&&g(e)}}}function $(n){let e;return{c(){e=k("div"),e.innerHTML=`<div class="dot-flashing svelte-6roggh"></div>
				\xA0
				<div class="dot-flashing svelte-6roggh"></div>
				\xA0
				<div class="dot-flashing svelte-6roggh"></div>`,o(e,"class","message pending svelte-6roggh")},m(i,t){m(i,e,t)},d(i){i&&g(e)}}}function we(n){let e,i,t,l=n[0]!==null&&P(n),s=n[1]&&$();return{c(){e=k("div"),i=k("div"),l&&l.c(),t=L(),s&&s.c(),o(i,"class","message-wrap svelte-6roggh"),o(e,"class","wrap svelte-6roggh"),E(e,"height",`${n[3].height}px`,!1),E(e,"max-height",`${n[3].height}px`,!1)},m(a,f){m(a,e,f),y(e,i),l&&l.m(i,null),y(i,t),s&&s.m(i,null),n[15](e)},p(a,[f]){a[0]!==null?l?l.p(a,f):(l=P(a),l.c(),l.m(i,t)):l&&(l.d(1),l=null),a[1]?s||(s=$(),s.c(),s.m(i,null)):s&&(s.d(1),s=null),f&8&&E(e,"height",`${a[3].height}px`,!1),f&8&&E(e,"max-height",`${a[3].height}px`,!1)},i:N,o:N,d(a){a&&g(e),l&&l.d(),s&&s.d(),n[15](null)}}}function ye(n,e,i){let{value:t}=e,l=null,{pending_message:s=!1}=e,{feedback:a=null}=e,{style:f={}}=e,{selectable:b=!1}=e,u,_;const v=ae();ne(()=>{_=u&&u.offsetHeight+u.scrollTop>u.scrollHeight-20}),se(()=>{_&&(u.scrollTo(0,u.scrollHeight),u.querySelectorAll("img").forEach(r=>{r.addEventListener("load",()=>{u.scrollTo(0,u.scrollHeight)})}))});function h(r){p.call(this,n,r)}function d(r){p.call(this,n,r)}function q(r){p.call(this,n,r)}function A(r){p.call(this,n,r)}function S(r){p.call(this,n,r)}function z(r){p.call(this,n,r)}const c=(r,te,ie)=>v("select",{index:[r,te],value:ie});function M(r){fe[r?"unshift":"push"](()=>{u=r,i(5,u)})}return n.$$set=r=>{"value"in r&&i(0,t=r.value),"pending_message"in r&&i(1,s=r.pending_message),"feedback"in r&&i(2,a=r.feedback),"style"in r&&i(3,f=r.style),"selectable"in r&&i(4,b=r.selectable)},n.$$.update=()=>{n.$$.dirty&129&&t!==l&&(i(7,l=t),v("change"))},[t,s,a,f,b,u,v,l,h,d,q,A,S,z,c,M]}class He extends I{constructor(e){super(),U(this,e,ye,we,V,{value:0,pending_message:1,feedback:2,style:3,selectable:4})}}function ee(n){let e,i;return e=new de({props:{show_label:n[5],Icon:ge,float:!1,label:n[4]||"Chatbot",disable:typeof n[3].container=="boolean"&&!n[3].container}}),{c(){J(e.$$.fragment)},m(t,l){K(e,t,l),i=!0},p(t,l){const s={};l&32&&(s.show_label=t[5]),l&16&&(s.label=t[4]||"Chatbot"),l&8&&(s.disable=typeof t[3].container=="boolean"&&!t[3].container),e.$set(s)},i(t){i||(C(e.$$.fragment,t),i=!0)},o(t){T(e.$$.fragment,t),i=!1},d(t){O(e,t)}}}function Ce(n){let e,i,t,l=n[5]&&ee(n);return i=new He({props:{style:n[3],selectable:n[6],value:n[8],pending_message:n[7]?.status==="pending"}}),i.$on("change",n[12]),i.$on("select",n[13]),{c(){l&&l.c(),e=L(),J(i.$$.fragment)},m(s,a){l&&l.m(s,a),m(s,e,a),K(i,s,a),t=!0},p(s,a){s[5]?l?(l.p(s,a),a&32&&C(l,1)):(l=ee(s),l.c(),C(l,1),l.m(e.parentNode,e)):l&&(ue(),T(l,1,1,()=>{l=null}),_e());const f={};a&8&&(f.style=s[3]),a&64&&(f.selectable=s[6]),a&256&&(f.value=s[8]),a&128&&(f.pending_message=s[7]?.status==="pending"),i.$set(f)},i(s){t||(C(l),C(i.$$.fragment,s),t=!0)},o(s){T(l),T(i.$$.fragment,s),t=!1},d(s){l&&l.d(s),s&&g(e),O(i,s)}}}function Be(n){let e,i;return e=new he({props:{elem_id:n[0],elem_classes:n[1],visible:n[2],padding:!1,$$slots:{default:[Ce]},$$scope:{ctx:n}}}),{c(){J(e.$$.fragment)},m(t,l){K(e,t,l),i=!0},p(t,[l]){const s={};l&1&&(s.elem_id=t[0]),l&2&&(s.elem_classes=t[1]),l&4&&(s.visible=t[2]),l&33272&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){i||(C(e.$$.fragment,t),i=!0)},o(t){T(e.$$.fragment,t),i=!1},d(t){O(e,t)}}}function Me(n,e,i){let{elem_id:t=""}=e,{elem_classes:l=[]}=e,{visible:s=!0}=e,{value:a=[]}=e,f,{style:b={}}=e,{label:u}=e,{show_label:_=!0}=e,{root:v}=e,{root_url:h}=e,{selectable:d=!1}=e;const q=c=>c.replace('src="/file',`src="${v}file`);let{loading_status:A=void 0}=e;function S(c){p.call(this,n,c)}function z(c){p.call(this,n,c)}return n.$$set=c=>{"elem_id"in c&&i(0,t=c.elem_id),"elem_classes"in c&&i(1,l=c.elem_classes),"visible"in c&&i(2,s=c.visible),"value"in c&&i(9,a=c.value),"style"in c&&i(3,b=c.style),"label"in c&&i(4,u=c.label),"show_label"in c&&i(5,_=c.show_label),"root"in c&&i(10,v=c.root),"root_url"in c&&i(11,h=c.root_url),"selectable"in c&&i(6,d=c.selectable),"loading_status"in c&&i(7,A=c.loading_status)},n.$$.update=()=>{n.$$.dirty&3584&&i(8,f=a?a.map(([c,M])=>[typeof c=="string"?q(c):R(c,v,h),typeof M=="string"?q(M):R(M,v,h)]):[])},[t,l,s,b,u,_,d,A,f,a,v,h,S,z]}class Ne extends I{constructor(e){super(),U(this,e,Me,Be,V,{elem_id:0,elem_classes:1,visible:2,value:9,style:3,label:4,show_label:5,root:10,root_url:11,selectable:6,loading_status:7})}}var Se=Ne;const ze=["static"],De=n=>({type:{payload:"Array<[string, string]>"},description:{payload:"list of message pairs of"},example_data:n.value?.length?n.value:[["Hi","Hello"],["1 + 1","2"]]});export{Se as Component,De as document,ze as modes};
//# sourceMappingURL=index.f7288490.js.map
