{"version":3,"file":"index.11c5f2d6.js","sources":["../../../../ui/node_modules/.pnpm/dequal@2.0.2/node_modules/dequal/lite/index.mjs","../../../../ui/packages/table/src/EditableCell.svelte","../../../../ui/packages/table/src/Table.svelte","../../../../ui/packages/app/src/components/DataFrame/DataFrame.svelte","../../../../ui/packages/app/src/components/DataFrame/index.ts"],"sourcesContent":["var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","<script lang=\"ts\">\n\texport let edit: boolean;\n\texport let value: string | number = \"\";\n\texport let el: HTMLInputElement | null;\n\texport let header: boolean = false;\n\texport let datatype:\n\t\t| \"str\"\n\t\t| \"markdown\"\n\t\t| \"html\"\n\t\t| \"number\"\n\t\t| \"bool\"\n\t\t| \"date\" = \"str\";\n</script>\n\n{#if edit}\n\t<input\n\t\tclass:header\n\t\ttabindex=\"-1\"\n\t\t{value}\n\t\tbind:this={el}\n\t\ton:keydown\n\t\ton:blur={({ currentTarget }) => {\n\t\t\tvalue = currentTarget.value;\n\t\t\tcurrentTarget.setAttribute(\"tabindex\", \"-1\");\n\t\t}}\n\t/>\n{/if}\n<span on:dblclick tabindex=\"-1\" role=\"button\" class:edit>\n\t{#if datatype === \"markdown\" || datatype === \"html\"}\n\t\t{@html value}\n\t{:else}\n\t\t{value}\n\t{/if}\n</span>\n\n<style>\n\tinput {\n\t\tposition: absolute;\n\t\ttop: var(--size-2);\n\t\tright: var(--size-2);\n\t\tbottom: var(--size-2);\n\t\tleft: var(--size-2);\n\t\tflex: 1 1 0%;\n\t\ttransform: translateX(-0.1px);\n\t\toutline: none;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t}\n\n\tspan {\n\t\tflex: 1 1 0%;\n\t\toutline: none;\n\t\tpadding: var(--size-2);\n\t}\n\n\t.header {\n\t\ttransform: translateX(0);\n\t\tfont: var(--weight-bold);\n\t}\n\n\t.edit {\n\t\topacity: 0;\n\t\tpointer-events: none;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher, tick } from \"svelte\";\n\timport { dsvFormat } from \"d3-dsv\";\n\timport { dequal } from \"dequal/lite\";\n\n\timport { Upload } from \"@gradio/upload\";\n\timport { Button } from \"@gradio/button\";\n\timport EditableCell from \"./EditableCell.svelte\";\n\timport type { SelectData } from \"@gradio/utils\";\n\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\n\n\texport let datatype: Datatype | Array<Datatype>;\n\texport let label: string | null = null;\n\texport let headers: Array<string> = [];\n\texport let values:\n\t\t| Array<Array<string | number>>\n\t\t| { data: Array<Array<string | number>>; headers: Array<string> } = [[]];\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\n\n\texport let editable = true;\n\texport let wrap: boolean = false;\n\n\t$: {\n\t\tif (values && !Array.isArray(values)) {\n\t\t\theaders = values.headers;\n\t\t\tvalues =\n\t\t\t\tvalues.data.length === 0\n\t\t\t\t\t? [Array(headers.length).fill(\"\")]\n\t\t\t\t\t: values.data;\n\t\t} else if (values === null) {\n\t\t\tvalues = [Array(headers.length).fill(\"\")];\n\t\t} else {\n\t\t\tvalues = values;\n\t\t}\n\t}\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: { data: Array<Array<string | number>>; headers: Array<string> };\n\t\tselect: SelectData;\n\t}>();\n\n\tlet editing: false | string = false;\n\tlet selected: false | string = false;\n\t$: {\n\t\tif (selected !== false) {\n\t\t\tconst loc = selected.split(\"-\");\n\t\t\tconst row = parseInt(loc[0]);\n\t\t\tconst col = parseInt(loc[1]);\n\t\t\tdispatch(\"select\", { index: [row, col], value: data[row][col].value });\n\t\t}\n\t}\n\tlet els: Record<\n\t\tstring,\n\t\t{ cell: null | HTMLTableCellElement; input: null | HTMLInputElement }\n\t> = {};\n\n\ttype Headers = Array<{ value: string; id: string }>;\n\n\tfunction make_headers(_head: Array<string>): Headers {\n\t\tlet _h = _head || [];\n\t\tif (col_count[1] === \"fixed\" && _h.length < col_count[0]) {\n\t\t\tconst fill = Array(col_count[0] - _h.length)\n\t\t\t\t.fill(\"\")\n\t\t\t\t.map((_, i) => `${i + _h.length}`);\n\t\t\t_h = _h.concat(fill);\n\t\t}\n\n\t\tif (!_h || _h.length === 0) {\n\t\t\treturn Array(col_count[0])\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, i) => {\n\t\t\t\t\tconst _id = `h-${i}`;\n\t\t\t\t\tels[_id] = { cell: null, input: null };\n\t\t\t\t\treturn { id: _id, value: JSON.stringify(i + 1) };\n\t\t\t\t});\n\t\t} else {\n\t\t\treturn _h.map((h, i) => {\n\t\t\t\tconst _id = `h-${i}`;\n\t\t\t\tels[_id] = { cell: null, input: null };\n\t\t\t\treturn { id: _id, value: h ?? \"\" };\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction process_data(_values: Array<Array<string | number>>) {\n\t\tconst data_row_length = _values.length > 0 ? _values.length : row_count[0];\n\n\t\treturn Array(\n\t\t\trow_count[1] === \"fixed\"\n\t\t\t\t? row_count[0]\n\t\t\t\t: data_row_length < row_count[0]\n\t\t\t\t? row_count[0]\n\t\t\t\t: data_row_length\n\t\t)\n\t\t\t.fill(0)\n\t\t\t.map((_, i) =>\n\t\t\t\tArray(col_count[1] === \"fixed\" ? col_count[0] : _values[0].length)\n\t\t\t\t\t.fill(0)\n\t\t\t\t\t.map((_, j) => {\n\t\t\t\t\t\tconst id = `${i}-${j}`;\n\t\t\t\t\t\tels[id] = { input: null, cell: null };\n\t\t\t\t\t\treturn { value: _values?.[i]?.[j] ?? \"\", id };\n\t\t\t\t\t})\n\t\t\t);\n\t}\n\n\tlet _headers = make_headers(headers);\n\tlet old_headers: Array<string> | undefined;\n\n\t$: {\n\t\tif (!dequal(headers, old_headers)) {\n\t\t\t_headers = make_headers(headers);\n\n\t\t\told_headers = headers;\n\t\t\trefresh_focus();\n\t\t}\n\t}\n\t$: if (!dequal(values, old_val)) {\n\t\tdata = process_data(values as Array<Array<string | number>>);\n\t\told_val = values as Array<Array<string | number>>;\n\n\t\trefresh_focus();\n\t}\n\n\tasync function refresh_focus() {\n\t\tif (typeof editing === \"string\") {\n\t\t\tawait tick();\n\t\t\tels[editing as string]?.input?.focus();\n\t\t} else if (typeof selected === \"string\") {\n\t\t\tawait tick();\n\t\t\tels[selected as string]?.input?.focus();\n\t\t}\n\t}\n\n\tlet data: Array<Array<{ id: string; value: string | number }>> = [[]];\n\n\tlet old_val: undefined | Array<Array<string | number>> = undefined;\n\n\t$: _headers &&\n\t\tdispatch(\"change\", {\n\t\t\tdata: data.map((r) => r.map(({ value }) => value)),\n\t\t\theaders: _headers.map((h) => h.value)\n\t\t});\n\n\tfunction get_sort_status(\n\t\tname: string,\n\t\tsort: number,\n\t\tdirection?: SortDirection\n\t) {\n\t\tif (!sort) return \"none\";\n\t\tif (headers[sort] === name) {\n\t\t\tif (direction === \"asc\") return \"ascending\";\n\t\t\tif (direction === \"des\") return \"descending\";\n\t\t}\n\t}\n\n\tfunction get_current_indices(id: string) {\n\t\treturn data.reduce(\n\t\t\t(acc, arr, i) => {\n\t\t\t\tconst j = arr.reduce((acc, data, j) => (id === data.id ? j : acc), -1);\n\n\t\t\t\treturn j === -1 ? acc : [i, j];\n\t\t\t},\n\t\t\t[-1, -1]\n\t\t);\n\t}\n\n\tasync function start_edit(id: string, clear?: boolean) {\n\t\tif (!editable || editing === id) return;\n\n\t\tif (clear) {\n\t\t\tconst [i, j] = get_current_indices(id);\n\n\t\t\tdata[i][j].value = \"\";\n\t\t}\n\t\tediting = id;\n\t\tawait tick();\n\t\tconst { input } = els[id];\n\t\tinput?.focus();\n\t}\n\n\tasync function handle_keydown(\n\t\tevent: KeyboardEvent,\n\t\ti: number,\n\t\tj: number,\n\t\tid: string\n\t) {\n\t\tlet is_data;\n\n\t\tswitch (event.key) {\n\t\t\tcase \"ArrowRight\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i][j + 1];\n\t\t\t\tselected = is_data ? is_data.id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowLeft\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i][j - 1];\n\t\t\t\tselected = is_data ? is_data.id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowDown\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i + 1];\n\t\t\t\tselected = is_data ? is_data[j].id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"ArrowUp\":\n\t\t\t\tif (editing) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tis_data = data[i - 1];\n\t\t\t\tselected = is_data ? is_data[j].id : selected;\n\t\t\t\tbreak;\n\t\t\tcase \"Escape\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselected = editing;\n\t\t\t\tediting = false;\n\t\t\t\tbreak;\n\t\t\tcase \"Enter\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\tadd_row(i);\n\t\t\t\t\tawait tick();\n\t\t\t\t\tconst [pos] = get_current_indices(id);\n\t\t\t\t\tselected = data[pos + 1][j].id;\n\t\t\t\t} else {\n\t\t\t\t\tif (editing === id) {\n\t\t\t\t\t\tediting = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstart_edit(id);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase \"Backspace\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tif (!editing) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tdata[i][j].value = \"\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Delete\":\n\t\t\t\tif (!editable) break;\n\t\t\t\tif (!editing) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tdata[i][j].value = \"\";\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"Tab\":\n\t\t\t\tlet direction = event.shiftKey ? -1 : 1;\n\n\t\t\t\tlet is_data_x = data[i][j + direction];\n\t\t\t\tlet is_data_y =\n\t\t\t\t\tdata?.[i + direction]?.[direction > 0 ? 0 : _headers.length - 1];\n\t\t\t\tlet _selected = is_data_x || is_data_y;\n\t\t\t\tif (_selected) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tselected = _selected ? _selected.id : selected;\n\t\t\t\t}\n\t\t\t\tediting = false;\n\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif (\n\t\t\t\t\t(!editing || (editing && editing !== id)) &&\n\t\t\t\t\tevent.key.length === 1\n\t\t\t\t) {\n\t\t\t\t\tstart_edit(id, true);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tasync function handle_cell_click(id: string) {\n\t\tif (editing === id) return;\n\t\tif (selected === id) return;\n\t\tediting = false;\n\t\tselected = id;\n\t}\n\n\tasync function set_focus(id: string | boolean, type: \"edit\" | \"select\") {\n\t\tif (type === \"edit\" && typeof id == \"string\") {\n\t\t\tawait tick();\n\t\t\tels[id].input?.focus();\n\t\t}\n\n\t\tif (\n\t\t\ttype === \"edit\" &&\n\t\t\ttypeof id == \"boolean\" &&\n\t\t\ttypeof selected === \"string\"\n\t\t) {\n\t\t\tlet cell = els[selected]?.cell;\n\t\t\tawait tick();\n\t\t\tcell?.focus();\n\t\t}\n\n\t\tif (type === \"select\" && typeof id == \"string\") {\n\t\t\tconst { cell } = els[id];\n\t\t\t// cell?.setAttribute(\"tabindex\", \"0\");\n\t\t\tawait tick();\n\t\t\tcell?.focus();\n\t\t}\n\t}\n\n\t$: set_focus(editing, \"edit\");\n\t$: set_focus(selected, \"select\");\n\n\ttype SortDirection = \"asc\" | \"des\";\n\tlet sort_direction: SortDirection;\n\tlet sort_by: number;\n\n\tfunction sort(col: number, dir: SortDirection) {\n\t\tif (dir === \"asc\") {\n\t\t\tdata = data.sort((a, b) => (a[col].value < b[col].value ? -1 : 1));\n\t\t} else if (dir === \"des\") {\n\t\t\tdata = data.sort((a, b) => (a[col].value > b[col].value ? -1 : 1));\n\t\t}\n\t}\n\n\tfunction handle_sort(col: number) {\n\t\tif (typeof sort_by !== \"number\" || sort_by !== col) {\n\t\t\tsort_direction = \"asc\";\n\t\t\tsort_by = col;\n\t\t} else {\n\t\t\tif (sort_direction === \"asc\") {\n\t\t\t\tsort_direction = \"des\";\n\t\t\t} else if (sort_direction === \"des\") {\n\t\t\t\tsort_direction = \"asc\";\n\t\t\t}\n\t\t}\n\n\t\tsort(col, sort_direction);\n\t}\n\n\tlet header_edit: string | false;\n\n\tfunction update_headers_data() {\n\t\tif (typeof selected === \"string\") {\n\t\t\tconst new_header = els[selected].input?.value;\n\t\t\tif (_headers.find((i) => i.id === selected)) {\n\t\t\t\tlet obj = _headers.find((i) => i.id === selected);\n\t\t\t\tif (new_header) obj![\"value\"] = new_header;\n\t\t\t} else {\n\t\t\t\tif (new_header) _headers.push({ id: selected, value: new_header });\n\t\t\t}\n\t\t}\n\t}\n\n\tasync function edit_header(_id: string, select?: boolean) {\n\t\tif (!editable || col_count[1] !== \"dynamic\" || editing === _id) return;\n\t\theader_edit = _id;\n\t\tawait tick();\n\t\tels[_id].input?.focus();\n\t\tif (select) els[_id].input?.select();\n\t}\n\n\tfunction end_header_edit(event: KeyboardEvent) {\n\t\tif (!editable) return;\n\n\t\tswitch (event.key) {\n\t\t\tcase \"Escape\":\n\t\t\tcase \"Enter\":\n\t\t\tcase \"Tab\":\n\t\t\t\tevent.preventDefault();\n\t\t\t\tselected = header_edit;\n\t\t\t\theader_edit = false;\n\t\t\t\tupdate_headers_data();\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction add_row(index?: number) {\n\t\tif (row_count[1] !== \"dynamic\") return;\n\t\tdata.splice(\n\t\t\tindex ? index + 1 : data.length,\n\t\t\t0,\n\t\t\tArray(data[0].length)\n\t\t\t\t.fill(0)\n\t\t\t\t.map((_, i) => {\n\t\t\t\t\tconst _id = `${data.length}-${i}`;\n\t\t\t\t\tels[_id] = { cell: null, input: null };\n\t\t\t\t\treturn { id: _id, value: \"\" };\n\t\t\t\t})\n\t\t);\n\n\t\tdata = data;\n\t}\n\n\tasync function add_col() {\n\t\tif (col_count[1] !== \"dynamic\") return;\n\t\tfor (let i = 0; i < data.length; i++) {\n\t\t\tconst _id = `${i}-${data[i].length}`;\n\t\t\tels[_id] = { cell: null, input: null };\n\t\t\tdata[i].push({ id: _id, value: \"\" });\n\t\t}\n\n\t\tconst _id = `h-${_headers.length}`;\n\t\tels[_id] = { cell: null, input: null };\n\t\t_headers.push({ id: _id, value: `Header ${_headers.length + 1}` });\n\n\t\tdata = data;\n\t\t_headers = _headers;\n\n\t\tawait tick();\n\n\t\tedit_header(_id, true);\n\t}\n\n\tfunction handle_click_outside(event: Event) {\n\t\tif (typeof editing === \"string\" && els[editing]) {\n\t\t\tif (\n\t\t\t\tels[editing].cell !== event.target &&\n\t\t\t\t!els[editing].cell?.contains(event?.target as Node | null)\n\t\t\t) {\n\t\t\t\tediting = false;\n\t\t\t}\n\t\t}\n\n\t\tif (typeof header_edit === \"string\" && els[header_edit]) {\n\t\t\tif (\n\t\t\t\tels[header_edit].cell !== event.target &&\n\t\t\t\t!els[header_edit].cell?.contains(event.target as Node | null)\n\t\t\t) {\n\t\t\t\tselected = header_edit;\n\t\t\t\theader_edit = false;\n\t\t\t\tupdate_headers_data();\n\t\t\t\theader_edit = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction guess_delimitaor(text: string, possibleDelimiters: Array<string>) {\n\t\treturn possibleDelimiters.filter(weedOut);\n\n\t\tfunction weedOut(delimiter: string) {\n\t\t\tvar cache = -1;\n\t\t\treturn text.split(\"\\n\").every(checkLength);\n\n\t\t\tfunction checkLength(line: string) {\n\t\t\t\tif (!line) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tvar length = line.split(delimiter).length;\n\t\t\t\tif (cache < 0) {\n\t\t\t\t\tcache = length;\n\t\t\t\t}\n\t\t\t\treturn cache === length && length > 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction data_uri_to_blob(data_uri: string) {\n\t\tconst byte_str = atob(data_uri.split(\",\")[1]);\n\t\tconst mime_str = data_uri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n\n\t\tconst ab = new ArrayBuffer(byte_str.length);\n\t\tconst ia = new Uint8Array(ab);\n\n\t\tfor (let i = 0; i < byte_str.length; i++) {\n\t\t\tia[i] = byte_str.charCodeAt(i);\n\t\t}\n\n\t\treturn new Blob([ab], { type: mime_str });\n\t}\n\n\tfunction blob_to_string(blob: Blob) {\n\t\tconst reader = new FileReader();\n\n\t\tfunction handle_read(e: ProgressEvent<FileReader>) {\n\t\t\tif (!e?.target?.result || typeof e.target.result !== \"string\") return;\n\n\t\t\tconst [delimiter] = guess_delimitaor(e.target.result, [\",\", \"\\t\"]);\n\n\t\t\tconst [head, ...rest] = dsvFormat(delimiter).parseRows(e.target.result);\n\n\t\t\t_headers = make_headers(\n\t\t\t\tcol_count[1] === \"fixed\" ? head.slice(0, col_count[0]) : head\n\t\t\t);\n\n\t\t\tvalues = rest;\n\t\t\treader.removeEventListener(\"loadend\", handle_read);\n\t\t}\n\n\t\treader.addEventListener(\"loadend\", handle_read);\n\n\t\treader.readAsText(blob);\n\t}\n\n\tlet dragging = false;\n</script>\n\n<svelte:window\n\ton:click={handle_click_outside}\n\ton:touchstart={handle_click_outside}\n/>\n\n<div class:label={label && label.length !== 0}>\n\t{#if label && label.length !== 0}\n\t\t<p>\n\t\t\t{label}\n\t\t</p>\n\t{/if}\n\t<div class=\"table-wrap scroll-hide\" class:dragging class:no-wrap={!wrap}>\n\t\t<Upload\n\t\t\tflex={false}\n\t\t\tcenter={false}\n\t\t\tboundedheight={false}\n\t\t\tdisable_click={true}\n\t\t\ton:load={(e) => blob_to_string(data_uri_to_blob(e.detail.data))}\n\t\t\tbind:dragging\n\t\t>\n\t\t\t<table class:dragging>\n\t\t\t\t{#if label && label.length !== 0}\n\t\t\t\t\t<caption class=\"sr-only\">{label}</caption>\n\t\t\t\t{/if}\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t{#each _headers as { value, id }, i (id)}\n\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\tbind:this={els[id].cell}\n\t\t\t\t\t\t\t\tclass:editing={header_edit === id}\n\t\t\t\t\t\t\t\taria-sort={get_sort_status(value, sort_by, sort_direction)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"cell-wrap\">\n\t\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t\t{value}\n\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\n\t\t\t\t\t\t\t\t\t\tedit={header_edit === id}\n\t\t\t\t\t\t\t\t\t\ton:keydown={end_header_edit}\n\t\t\t\t\t\t\t\t\t\ton:dblclick={() => edit_header(id)}\n\t\t\t\t\t\t\t\t\t\theader\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass:sorted={sort_by === i}\n\t\t\t\t\t\t\t\t\t\tclass:des={sort_by === i && sort_direction === \"des\"}\n\t\t\t\t\t\t\t\t\t\tclass=\"sort-button {sort_direction} \"\n\t\t\t\t\t\t\t\t\t\ton:click={() => handle_sort(i)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 9 7\"\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z\" />\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t{#each data as row, i (row)}\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t{#each row as { value, id }, j (id)}\n\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\ttabindex=\"0\"\n\t\t\t\t\t\t\t\t\tbind:this={els[id].cell}\n\t\t\t\t\t\t\t\t\ton:touchstart={() => start_edit(id)}\n\t\t\t\t\t\t\t\t\ton:click={() => handle_cell_click(id)}\n\t\t\t\t\t\t\t\t\ton:dblclick={() => start_edit(id)}\n\t\t\t\t\t\t\t\t\ton:keydown={(e) => handle_keydown(e, i, j, id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclass:border-transparent={selected !== id}\n\t\t\t\t\t\t\t\t\t\tclass=\"cell-wrap\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<EditableCell\n\t\t\t\t\t\t\t\t\t\t\tbind:value\n\t\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\n\t\t\t\t\t\t\t\t\t\t\tedit={editing === id}\n\t\t\t\t\t\t\t\t\t\t\tdatatype={Array.isArray(datatype)\n\t\t\t\t\t\t\t\t\t\t\t\t? datatype[j]\n\t\t\t\t\t\t\t\t\t\t\t\t: datatype}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t{/each}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</Upload>\n\t</div>\n\t{#if editable}\n\t\t<div class=\"controls-wrap\">\n\t\t\t{#if row_count[1] === \"dynamic\"}\n\t\t\t\t<span class=\"button-wrap\">\n\t\t\t\t\t<Button variant=\"secondary\" size=\"sm\" on:click={() => add_row()}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\t\t\tviewBox=\"0 0 32 32\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\td=\"M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tNew row\n\t\t\t\t\t</Button>\n\t\t\t\t</span>\n\t\t\t{/if}\n\t\t\t{#if col_count[1] === \"dynamic\"}\n\t\t\t\t<span class=\"button-wrap\">\n\t\t\t\t\t<Button variant=\"secondary\" size=\"sm\" on:click={add_col}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\twidth=\"1em\"\n\t\t\t\t\t\t\theight=\"1em\"\n\t\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\n\t\t\t\t\t\t\tviewBox=\"0 0 32 32\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\td=\"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tNew column\n\t\t\t\t\t</Button>\n\t\t\t\t</span>\n\t\t\t{/if}\n\t\t</div>\n\t{/if}\n</div>\n\n<style>\n\t.button-wrap:hover svg {\n\t\tcolor: var(--color-accent);\n\t}\n\n\t.button-wrap svg {\n\t\tmargin-right: var(--size-1);\n\t\tmargin-left: -5px;\n\t}\n\t.label {\n\t\tmargin-top: var(--size-6);\n\t}\n\n\t.label p {\n\t\tposition: relative;\n\t\tz-index: var(--layer-4);\n\t\tmargin-bottom: var(--size-2);\n\t\tcolor: var(--block-label-text-color);\n\t\tfont-size: var(--block-label-text-size);\n\t}\n\n\t.table-wrap {\n\t\tposition: relative;\n\t\ttransition: 150ms;\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--table-radius);\n\t\toverflow-x: scroll;\n\t\toverflow-y: hidden;\n\t}\n\n\t.dragging {\n\t\tborder-color: var(--color-accent);\n\t}\n\n\t.no-wrap {\n\t\twhite-space: nowrap;\n\t}\n\n\ttable {\n\t\ttransition: 150ms;\n\t\twidth: var(--size-full);\n\t\ttable-layout: auto;\n\t\toverflow: hidden;\n\t\tcolor: var(--body-text-color);\n\t\tfont-size: var(--input-text-size);\n\t\tline-height: var(--line-md);\n\t\tfont-family: var(--font-mono);\n\t}\n\n\ttable.dragging {\n\t\topacity: 0.4;\n\t}\n\n\tthead {\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tz-index: var(--layer-1);\n\t\tbox-shadow: var(--shadow-drop);\n\t}\n\n\ttr {\n\t\tborder-bottom: 1px solid var(--border-color-primary);\n\t\ttext-align: left;\n\t}\n\n\ttr > * + * {\n\t\tborder-right-width: 0px;\n\t\tborder-left-width: 1px;\n\t\tborder-style: solid;\n\t\tborder-color: var(--border-color-primary);\n\t}\n\n\tth,\n\ttd {\n\t\t--ring-color: transparent;\n\t\tposition: relative;\n\t\toutline: none;\n\t\tbox-shadow: inset 0 0 0 1px var(--ring-color);\n\t\tpadding: 0;\n\t}\n\n\tth:first-child {\n\t\tborder-top-left-radius: var(--table-radius);\n\t}\n\n\tth:last-child {\n\t\tborder-top-right-radius: var(--table-radius);\n\t}\n\n\tth:focus-within,\n\ttd:focus-within {\n\t\t--ring-color: var(--color-accent);\n\t}\n\n\ttr:last-child td:first-child {\n\t\tborder-bottom-left-radius: var(--table-radius);\n\t}\n\n\ttr:last-child td:last-child {\n\t\tborder-bottom-right-radius: var(--table-radius);\n\t}\n\n\ttr th {\n\t\tbackground: var(--table-even-background-fill);\n\t}\n\n\tth svg {\n\t\tfill: currentColor;\n\t\tfont-size: 10px;\n\t}\n\n\t.sort-button {\n\t\tdisplay: flex;\n\t\tflex: none;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\ttransition: 150ms;\n\t\tcursor: pointer;\n\t\tpadding: var(--size-2);\n\t\tcolor: var(--body-text-color-subdued);\n\t\tline-height: var(--text-sm);\n\t}\n\n\t.sort-button:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.des {\n\t\ttransform: scaleY(-1);\n\t}\n\n\t.sort-button.sorted {\n\t\tcolor: var(--color-accent);\n\t}\n\n\ttbody {\n\t\toverflow-y: scroll;\n\t}\n\n\ttbody > tr:last-child {\n\t\tborder: none;\n\t}\n\n\ttbody > tr:nth-child(even) {\n\t\tbackground: var(--table-even-background-fill);\n\t}\n\n\ttbody > tr:nth-child(odd) {\n\t\tbackground: var(--table-odd-background-fill);\n\t}\n\n\ttbody > tr:nth-child(odd):focus {\n\t\tbackground: var(--background-fill-primary);\n\t}\n\n\t.editing {\n\t\tbackground: var(--table-editing);\n\t}\n\n\t.cell-wrap {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\toutline: none;\n\t\theight: var(--size-full);\n\t\tmin-height: var(--size-9);\n\t}\n\n\t.controls-wrap {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tpadding-top: var(--size-2);\n\t}\n\n\t.controls-wrap > * + * {\n\t\tmargin-left: var(--size-1);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { Table } from \"@gradio/table\";\n\timport StatusTracker from \"../StatusTracker/StatusTracker.svelte\";\n\timport type { LoadingStatus } from \"../StatusTracker/types\";\n\timport { createEventDispatcher, tick } from \"svelte\";\n\n\ttype Headers = Array<string>;\n\ttype Data = Array<Array<string | number>>;\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\n\n\texport let headers: Headers = [];\n\texport let elem_id: string = \"\";\n\texport let elem_classes: Array<string> = [];\n\texport let visible: boolean = true;\n\texport let value: { data: Data; headers: Headers } = {\n\t\tdata: [[\"\", \"\", \"\"]],\n\t\theaders: [\"1\", \"2\", \"3\"]\n\t};\n\texport let mode: \"static\" | \"dynamic\";\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\n\texport let label: string | null = null;\n\texport let wrap: boolean;\n\texport let datatype: Datatype | Array<Datatype>;\n\n\tconst dispatch = createEventDispatcher();\n\n\texport let loading_status: LoadingStatus;\n\n\tasync function handle_change(detail: {\n\t\tdata: Array<Array<string | number>>;\n\t\theaders: Array<string>;\n\t}) {\n\t\tvalue = detail;\n\t\tawait tick();\n\t\tdispatch(\"change\", detail);\n\t}\n</script>\n\n<div id={elem_id} class={elem_classes.join(\" \")} class:hide={!visible}>\n\t<StatusTracker {...loading_status} />\n\t<Table\n\t\t{label}\n\t\t{row_count}\n\t\t{col_count}\n\t\tvalues={value}\n\t\t{headers}\n\t\ton:change={({ detail }) => handle_change(detail)}\n\t\ton:select\n\t\teditable={mode === \"dynamic\"}\n\t\t{wrap}\n\t\t{datatype}\n\t/>\n</div>\n\n<style>\n\tdiv {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n</style>\n","export { default as Component } from \"./DataFrame.svelte\";\nexport const modes = [\"static\", \"dynamic\"];\n\nexport const document = (config: Record<string, any>) => ({\n\ttype: {\n\t\tpayload: \"{ data: Array<Array<string | number>>; headers: Array<string> }\"\n\t},\n\tdescription: {\n\t\tpayload: \"an object with an array of data and an array of headers\"\n\t},\n\texample_data: config.value\n});\n"],"names":[],"mappings":"wlBAAA,GAAI,IAAM,OAAO,UAAU,eAEpB,YAAgB,EAAK,EAAK,CAChC,GAAI,GAAM,EACV,GAAI,IAAQ,EAAK,MAAO,GAExB,GAAI,GAAO,GAAQ,GAAK,EAAI,eAAiB,EAAI,YAAa,CAC7D,GAAI,IAAS,KAAM,MAAO,GAAI,YAAc,EAAI,UAChD,GAAI,IAAS,OAAQ,MAAO,GAAI,aAAe,EAAI,WAEnD,GAAI,IAAS,MAAO,CACnB,GAAK,GAAI,EAAI,UAAY,EAAI,OAC5B,KAAO,KAAS,GAAO,EAAI,GAAM,EAAI,EAAI,GAAE,CAE5C,MAAO,KAAQ,GAGhB,GAAI,CAAC,GAAQ,MAAO,IAAQ,SAAU,CACrC,EAAM,EACN,IAAK,IAAQ,GAEZ,GADI,GAAI,KAAK,EAAK,CAAI,GAAK,EAAE,GAAO,CAAC,GAAI,KAAK,EAAK,CAAI,GACnD,CAAE,KAAQ,KAAQ,CAAC,GAAO,EAAI,GAAO,EAAI,EAAK,EAAG,MAAO,GAE7D,MAAO,QAAO,KAAK,CAAG,EAAE,SAAW,GAIrC,MAAO,KAAQ,GAAO,IAAQ,CAC/B,4ICbC,kNAgBE,yCAAA,8FAFM,oCAAA,4DAfJ,kCAcC,QAAa,YAAc,OAAa,gMAD9C,gEAbK,+OAbO,WACA,QAAyB,OACzB,SACA,SAAkB,OAClB,WAMC,kHAQA,uBAEC,wBACX,EAAQ,EAAc,KAAK,EAC3B,EAAc,aAAa,WAAY,IAAI,2kBCoe1C,2CADF,qCACE,2EAc2B,qCAA1B,qCAA0B,qKAcf,QAAgB,iBADb,MAAI,OAAI,sBAAR,MAAI,OAAI,oEAEL,ocAQQ,qCAFN,QAAY,iBACf,QAAY,OAAK,QAAmB,KAAK,2DAd3C,MAAgB,MAAO,MAAS,mDAD5B,QAAgB,4BAFhC,SAKC,0BAUC,OAMC,OAOC,sHAnBK,QAAgB,iCADb,MAAI,OAAI,oEAUG,iEAFN,QAAY,4BACf,QAAY,OAAK,QAAmB,KAAK,yBAd3C,MAAgB,MAAO,MAAS,mFAD5B,QAAgB,yOAsDtB,OAAY,eACR,MAAM,QAAQ,MACrB,KAAS,OACT,sCAJM,MAAI,OAAI,sBAAR,MAAI,OAAI,sZALQ,OAAa,6EATzC,SAQC,sKAOQ,OAAY,6BACR,MAAM,QAAQ,MACrB,KAAS,OACT,gFAJM,MAAI,OAAI,iEALQ,OAAa,qLAVnC,iBAAyB,sBAA9B,6LADH,4FACQ,6EAAL,+LA9CA,MAAS,KAAM,SAAW,WAKtB,gBAA8B,sBAAnC,gEAuCI,gBAAgB,sBAArB,uWA7CJ,+BAIC,OACC,yDAuCD,+DA3CK,MAAS,KAAM,SAAW,0EAKtB,kEAuCD,iHAvCJ,oCAuCD,2OAkCC,KAAU,KAAO,mBAsBjB,KAAU,KAAO,kHAvBvB,2DACM,KAAU,KAAO,yGAsBjB,KAAU,KAAO,8ZArBrB,wPAgBO;AAAA,cAEN,2YAhBC,SAUC,oLAW8C,0FADjD,wPAgBO;AAAA,iBAEN,qYAhBC,SAUC,oFAhID,MAAS,KAAM,SAAW,4CAOvB,UACE,iBACO,iBACA,2JAiFZ,qLAtF8D,+CANlD,MAAS,KAAM,SAAW,CAAC,UAA7C,+BAMC,sEAVU,6BACK,sBAIV,MAAS,KAAM,SAAW,oPAKoC,MAsF9D,4HA5FY,MAAS,KAAM,SAAW,CAAC,2IAlElB,EAAc,SAChC,GAAmB,OAAO,CAAO,aAEvB,MACZ,YACG,GAAK,MAAM;AAAA,CAAI,EAAE,MAAM,CAAW,aAEpB,OACf,QACG,MAGJ,GAAS,EAAK,MAAM,CAAS,EAAE,aAC/B,GAAQ,GACX,GAAQ,GAEF,IAAU,GAAU,EAAS,gBAKb,QACnB,GAAW,KAAK,EAAS,MAAM,GAAG,EAAE,IACpC,EAAW,EAAS,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,GAE3D,KAAS,aAAY,EAAS,MAAM,EACpC,KAAS,YAAW,CAAE,SAEnB,GAAI,EAAG,EAAI,EAAS,OAAQ,IACpC,EAAG,GAAK,EAAS,WAAW,CAAC,YAGnB,OAAM,CAAE,GAAK,KAAM,2BA1cpB,eACA,QAAuB,SACvB,iBACA,kBAGA,gBACA,gBAEA,WAAW,OACX,OAAgB,WAgBrB,GAAW,QAKb,GAA0B,GAC1B,EAA2B,GAS3B,gBAOkB,MACjB,GAAK,SACL,EAAU,KAAO,SAAW,EAAG,OAAS,EAAU,SAC/C,GAAO,MAAM,EAAU,GAAK,EAAG,MAAM,EACzC,KAAK,EAAE,EACP,KAAK,EAAG,OAAS,EAAI,EAAG,UAC1B,EAAK,EAAG,OAAO,CAAI,SAGf,GAAM,EAAG,SAAW,EACjB,MAAM,EAAU,IACrB,KAAK,CAAC,EACN,KAAK,EAAG,UACF,QAAW,gBACjB,EAAI,IAAS,KAAM,KAAM,MAAO,UACvB,GAAI,EAAK,MAAO,KAAK,UAAU,EAAI,CAAC,KAGxC,EAAG,KAAK,EAAG,UACX,QAAW,gBACjB,EAAI,IAAS,KAAM,KAAM,MAAO,UACvB,GAAI,EAAK,MAAO,GAAK,iBAKX,QACf,GAAkB,EAAQ,OAAS,EAAI,EAAQ,OAAS,EAAU,SAEjE,OACN,EAAU,KAAO,SAEd,EAAkB,EAAU,GAD5B,EAAU,GAGV,CAAe,EAEjB,KAAK,CAAC,EACN,KAAK,EAAG,IACR,MAAM,EAAU,KAAO,QAAU,EAAU,GAAK,EAAQ,GAAG,MAAM,EAC/D,KAAK,CAAC,EACN,KAAK,EAAG,UACF,MAAQ,KAAK,gBACnB,EAAI,IAAQ,MAAO,KAAM,KAAM,UACtB,MAAO,IAAU,KAAK,IAAM,GAAI,YAK1C,GAAW,EAAa,CAAO,EAC/B,2BAkBQ,IAAY,eAChB,KACN,EAAI,IAAoB,OAAO,eACd,IAAa,gBACxB,KACN,EAAI,IAAqB,OAAO,YAI9B,QAEA,aASH,EACA,EACA,OAEK,QAAa,UACd,EAAQ,KAAU,MACjB,IAAc,YAAc,eAC5B,IAAc,YAAc,yBAIL,SACrB,GAAK,QACV,EAAK,EAAK,UACJ,GAAI,EAAI,QAAQ,EAAK,EAAM,KAAO,IAAO,EAAK,GAAK,GAAI,IAAQ,QAE9D,QAAW,GAAO,EAAG,CAAC,SAEvB,oBAIiB,EAAY,OAChC,GAAY,IAAY,YAEzB,SACI,EAAG,GAAK,EAAoB,CAAE,MAErC,EAAK,GAAG,GAAG,MAAQ,UAEpB,EAAU,CAAE,OACN,WACE,SAAU,EAAI,GACtB,GAAO,yBAIP,EACA,EACA,EACA,MAEI,UAEI,EAAM,SACR,gBACA,QACJ,EAAM,iBACN,EAAU,EAAK,GAAG,EAAI,OACtB,EAAW,EAAU,EAAQ,GAAK,CAAQ,YAEtC,eACA,QACJ,EAAM,iBACN,EAAU,EAAK,GAAG,EAAI,OACtB,EAAW,EAAU,EAAQ,GAAK,CAAQ,YAEtC,eACA,QACJ,EAAM,iBACN,EAAU,EAAK,EAAI,OACnB,EAAW,EAAU,EAAQ,GAAG,GAAK,CAAQ,YAEzC,aACA,QACJ,EAAM,iBACN,EAAU,EAAK,EAAI,OACnB,EAAW,EAAU,EAAQ,GAAG,GAAK,CAAQ,YAEzC,aACC,QACL,EAAM,qBACN,EAAW,CAAO,MAClB,EAAU,EAAK,YAEX,YACC,WACL,EAAM,iBAEF,EAAM,UACT,GAAQ,CAAC,OACH,WACC,IAAO,EAAoB,CAAE,MACpC,EAAW,EAAK,GAAM,GAAG,GAAG,EAAE,MAE1B,KAAY,MACf,EAAU,EAAK,EAEf,EAAW,CAAE,YAKX,gBACC,QACA,GACJ,GAAM,qBACN,EAAK,GAAG,GAAG,MAAQ,iBAGhB,aACC,QACA,GACJ,GAAM,qBACN,EAAK,GAAG,GAAG,MAAQ,iBAGhB,SACA,GAAY,EAAM,YAAgB,EAElC,EAAY,EAAK,GAAG,EAAI,GACxB,GACH,IAAO,EAAI,KAAa,EAAY,EAAI,EAAI,EAAS,OAAS,GAC3D,GAAY,GAAa,GACzB,IACH,GAAM,qBACN,EAAW,GAAY,GAAU,GAAK,CAAQ,OAE/C,EAAU,EAAK,kBAKZ,GAAY,GAAW,IAAY,IACrC,EAAM,IAAI,SAAW,GAErB,EAAW,EAAI,EAAI,2BAOU,GAC5B,IAAY,GACZ,IAAa,QACjB,EAAU,EAAK,MACf,EAAW,CAAE,qBAGW,EAAsB,MAC1C,IAAS,cAAiB,IAAM,gBAC7B,KACN,EAAI,GAAI,OAAO,SAIf,IAAS,cACF,IAAM,iBACN,IAAa,aAEhB,GAAO,EAAI,IAAW,UACpB,KACN,GAAM,WAGH,IAAS,gBAAmB,IAAM,gBAC7B,QAAS,EAAI,QAEf,KACN,GAAM,YAQJ,GACA,eAEU,EAAa,GACtB,IAAQ,UACX,EAAO,EAAK,MAAM,EAAG,IAAO,EAAE,GAAK,MAAQ,EAAE,GAAK,SAAa,CAAC,GACtD,IAAQ,WAClB,EAAO,EAAK,MAAM,EAAG,IAAO,EAAE,GAAK,MAAQ,EAAE,GAAK,SAAa,CAAC,eAI7C,SACT,KAAY,UAAY,KAAY,QAC9C,EAAiB,KAAK,OACtB,GAAU,CAAG,GAET,IAAmB,WACtB,EAAiB,KAAK,EACZ,IAAmB,YAC7B,EAAiB,KAAK,EAIxB,GAAK,EAAK,CAAc,KAGrB,0BAGQ,IAAa,eACjB,GAAa,EAAI,GAAU,OAAO,SACpC,EAAS,KAAM,GAAM,EAAE,KAAO,CAAQ,MACrC,GAAM,EAAS,KAAM,GAAM,EAAE,KAAO,CAAQ,EAC5C,GAAY,GAAK,MAAW,OAE5B,IAAY,EAAS,MAAO,GAAI,EAAU,MAAO,uBAK7B,EAAa,IAClC,GAAY,EAAU,KAAO,WAAa,IAAY,SAC3D,EAAc,CAAG,OACX,KACN,EAAI,GAAK,OAAO,QACZ,GAAQ,EAAI,GAAK,OAAO,sBAGJ,QACnB,SAEG,EAAM,SACR,aACA,YACA,MACJ,EAAM,qBACN,EAAW,CAAW,OACtB,EAAc,EAAK,EACnB,wBAKc,GACZ,EAAU,KAAO,WACrB,GAAK,OACJ,EAAQ,EAAQ,EAAI,EAAK,OACzB,EACA,MAAM,EAAK,GAAG,MAAM,EAClB,KAAK,CAAC,EACN,KAAK,EAAG,UACF,MAAS,EAAK,UAAU,gBAC9B,EAAI,IAAS,KAAM,KAAM,MAAO,UACvB,GAAI,EAAK,MAAO,8DAQxB,EAAU,KAAO,wBACZ,GAAI,EAAG,EAAI,EAAK,OAAQ,UAC1B,MAAS,KAAK,EAAK,GAAG,cAC5B,EAAI,IAAS,KAAM,KAAM,MAAO,SAChC,EAAK,GAAG,MAAO,GAAI,EAAK,MAAO,UAG1B,QAAW,EAAS,cAC1B,EAAI,IAAS,KAAM,KAAM,MAAO,SAChC,EAAS,MAAO,GAAI,EAAK,gBAAiB,EAAS,OAAS,yEAKtD,KAEN,GAAY,EAAK,EAAI,cAGQ,SAClB,IAAY,UAAY,EAAI,IAErC,EAAI,GAAS,OAAS,EAAM,SAC3B,EAAI,GAAS,MAAM,SAAS,GAAO,MAAqB,OAEzD,EAAU,EAAK,QAIN,IAAgB,UAAY,EAAI,IAEzC,EAAI,GAAa,OAAS,EAAM,SAC/B,EAAI,GAAa,MAAM,SAAS,EAAM,MAAqB,QAE5D,EAAW,CAAW,OACtB,EAAc,EAAK,EACnB,UACA,EAAc,EAAK,eAwCE,QACjB,MAAa,uBAEE,OACf,GAAG,QAAQ,cAAiB,GAAE,OAAO,QAAW,sBAE9C,GAAa,GAAiB,EAAE,OAAO,QAAS,IAAK,GAAI,IAEzD,KAAS,GAAQ,GAAU,CAAS,EAAE,UAAU,EAAE,OAAO,MAAM,MAEtE,EAAW,EACV,EAAU,KAAO,QAAU,EAAK,MAAM,EAAG,EAAU,IAAM,CAAI,QAG9D,EAAS,CAAI,EACb,EAAO,oBAAoB,UAAW,CAAW,EAGlD,EAAO,iBAAiB,UAAW,CAAW,EAE9C,EAAO,WAAW,CAAI,KAGnB,IAAW,mCAsCG,EAAI,GAAI,UAAR,GAAI,GAAI,6BAGE,GAAY,CAAE,QAQjB,GAAY,CAAC,8CAlBpB,EAAI,GAAI,kHAsDP,EAAI,GAAI,UAAR,GAAI,GAAI,6DAZR,EAAI,GAAI,6BACE,EAAW,CAAE,QAClB,GAAkB,CAAE,QACjB,EAAW,CAAE,YACnB,IAAM,EAAe,EAAG,EAAG,EAAG,CAAE,wCAzDzC,GAAM,GAAe,GAAiB,EAAE,OAAO,IAAI,UAoFL,yUA/jBrD,IAAW,MAAM,QAAQ,CAAM,QAClC,EAAU,EAAO,OAAO,OACxB,EACC,EAAO,KAAK,SAAW,GACnB,MAAM,EAAQ,MAAM,EAAE,KAAK,EAAE,GAC9B,EAAO,IAAI,GACL,IAAW,UACrB,GAAU,MAAM,EAAQ,MAAM,EAAE,KAAK,EAAE,gDAuFjC,IAAO,EAAQ,CAAO,QAC7B,EAAO,EAAa,CAAuC,QAC3D,EAAU,CAAuC,EAEjD,yBA7EI,IAAa,SACV,GAAM,EAAS,MAAM,GAAG,EACxB,EAAM,SAAS,EAAI,IACnB,EAAM,SAAS,EAAI,IACzB,EAAS,UAAY,OAAQ,EAAK,CAAG,EAAG,MAAO,EAAK,GAAK,GAAK,iCA8D1D,IAAO,EAAS,CAAW,QAC/B,EAAW,EAAa,CAAO,QAE/B,EAAc,CAAO,EACrB,yBAwBC,GACF,EAAS,UACR,KAAM,EAAK,IAAK,GAAM,EAAE,MAAO,WAAY,CAAK,GAChD,QAAS,EAAS,IAAK,GAAM,EAAE,KAAK,sBAwKnC,GAAU,EAAS,MAAM,qBACzB,GAAU,EAAU,QAAQ,8TChRZ,qJAKV,2BAIE,OAAS,mJAVZ,uBAAgB,KAAa,KAAK,GAAG,kCAAgB,cAA9D,+EACoB,yHAKV,8CAIE,OAAS,yFAVZ,0BAAgB,KAAa,KAAK,GAAG,yDAAgB,8JA7BlD,iBACA,UAAkB,OAClB,sBACA,UAAmB,OACnB,SACV,OAAQ,GAAI,GAAI,EAAE,GAClB,SAAU,IAAK,IAAK,GAAG,OAEb,WACA,gBACA,gBACA,QAAuB,SACvB,WACA,mBAEL,GAAW,SAEN,qCAEkB,OAI5B,EAAQ,CAAM,OACR,KACN,EAAS,SAAU,CAAM,YAYX,YAAa,EAAc,CAAM,wrBC9CpC,IAAQ,CAAC,SAAU,SAAS,EAE5B,GAAW,AAAC,KACxB,KAAM,CACL,QAAS,mEAEV,YAAa,CACZ,QAAS,2DAEV,aAAc,EAAO,KACtB"}